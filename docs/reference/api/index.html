<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-reference/api">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EPXDLH6V72"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-EPXDLH6V72",{})</script><title data-rh="true">API | Guardian</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://odpf.github.io//guardian/docs/reference/api"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="API | Guardian"><meta data-rh="true" name="description" content="Managing Policies"><meta data-rh="true" property="og:description" content="Managing Policies"><link data-rh="true" rel="icon" href="/guardian/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://odpf.github.io//guardian/docs/reference/api"><link data-rh="true" rel="alternate" href="https://odpf.github.io//guardian/docs/reference/api" hreflang="en"><link data-rh="true" rel="alternate" href="https://odpf.github.io//guardian/docs/reference/api" hreflang="x-default"><link rel="stylesheet" href="/guardian/assets/css/styles.5bd84c72.css">
<link rel="preload" href="/guardian/assets/js/runtime~main.1f216be9.js" as="script">
<link rel="preload" href="/guardian/assets/js/main.21f990b9.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#222;color:#eee" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="announcementBarContent_xLdY">⭐️ If you like Guardian, give it a star on <a target="_blank" rel="noopener noreferrer" href="https://github.com/odpf/guardian">GitHub</a>! ⭐</div><button type="button" class="clean-btn close announcementBarClose_gvF7" aria-label="Close"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/guardian/"><div class="navbar__logo"><img src="/guardian/img/logo.svg" alt="Guardian" class="themedImage_ToTc themedImage--light_HNdA"><img src="/guardian/img/logo.svg" alt="Guardian" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Guardian</b></a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/guardian/docs/introduction">Docs</a><a class="navbar__item navbar__link" href="/guardian/docs/support">Support</a><a href="https://bit.ly/2RzPbtn" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-slack-link"></a><a href="https://github.com/odpf/guardian" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-item-github"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/guardian/"><img src="/guardian/img/logo.svg" alt="Guardian" class="themedImage_ToTc themedImage--light_HNdA"><img src="/guardian/img/logo.svg" alt="Guardian" class="themedImage_ToTc themedImage--dark_i4oU"><b>Guardian</b></a><nav class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/guardian/docs/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/guardian/docs/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/guardian/docs/roadmap">Roadmap</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/guardian/docs/concepts/overview">Concepts</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/guardian/docs/guides/introduction">Guides</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/guardian/docs/providers/gcloud_iam">Providers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/guardian/docs/reference/api">Reference</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/guardian/docs/reference/api">API</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guardian/docs/reference/cli">CLI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guardian/docs/reference/appeal">Appeal</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guardian/docs/reference/policy">Policy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guardian/docs/reference/provider">Provider</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guardian/docs/reference/resource">Resource</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/guardian/docs/reference/glossary">Glossary</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/guardian/docs/contribute/architecture">Contribute</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>API</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="managing-policies">Managing Policies<a class="hash-link" href="#managing-policies" title="Direct link to heading">​</a></h2><p>Policy controls how users or accounts can get access to a resource. Policy used by appeal to determine the approval flow, get creator&#x27;s identity/profile, and decide whether it needs additional appeals. Policy is attached to a resource type in the provider config, thus a policy should be the first thing to setup before creating a provider and getting its resources.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="create-policy">Create Policy<a class="hash-link" href="#create-policy" title="Direct link to heading">​</a></h3><p>Policies can be created by calling with a <strong><code>POST</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/policies</code></strong></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters">Parameters<a class="hash-link" href="#parameters" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>body</td><td>body</td><td>Contains a policy name, steps for approval flow, External identity manager(IAM)<br> details for authorization required for the accessing the resource</td><td>Yes</td><td><a href="/guardian/docs/reference/policy#policy-1">Policy</a></td></tr><tr><td>X-Auth-Email</td><td>header</td><td>Contains the user/service account email used for authorization</td><td>Yes</td><td>string</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses">Responses<a class="hash-link" href="#responses" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response</td><td><a href="/guardian/docs/reference/policy#policy-1">Policy</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request POST </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/policies&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-raw </span><span class="token string" style="color:#e3116c">&#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  &quot;id&quot;: &quot;my_policy&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  &quot;steps&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;name&quot;: &quot;manager_approval&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;description&quot;: &quot;Manager approval for sensitive data&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;when&quot;: &quot;$appeal.resource.details.is_sensitive == true&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;strategy&quot;: &quot;manual&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;approvers&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;$appeal.creator.manager_email&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;name&quot;: &quot;resource_owner_approval&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;description&quot;: &quot;Approval from resource admin/owner&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;strategy&quot;: &quot;manual&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;approvers&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;$appeal.resource.details.owner&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Policy has <code>version</code> to ensure each appeal has a reference to an applied policy when it&#x27;s created. A policy is created with an initial <code>version</code> equal to <code>1</code>.</p><p>Check <a href="/guardian/docs/reference/policy">policy reference</a> for more details on the policy configuration.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="updating-policy">Updating Policy<a class="hash-link" href="#updating-policy" title="Direct link to heading">​</a></h3><p>Updating a policy actually means creating a new policy with the same <code>id</code> but the <code>version</code> gets incremented by <code>1</code>. Both the new and previous policies still can be used by providers.</p><p>Policies can be updated by using the <strong><code>PUT</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/policies/:id</code></strong></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-1">Parameters<a class="hash-link" href="#parameters-1" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td>path</td><td>Unique identifier for policy to be updated</td><td>Yes</td><td>String</td></tr><tr><td>body</td><td>body</td><td>Contains the fields reuired to be added/updated in the policy</td><td>Yes</td><td><a href="/guardian/docs/reference/policy#policy-1">Policy</a></td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-1">Responses<a class="hash-link" href="#responses-1" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/policy#policy-1">Policy</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request PUT </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/policies/{{policy_id}}&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-raw </span><span class="token string" style="color:#e3116c">&#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  &quot;steps&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;name&quot;: &quot;manager_approval&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;description&quot;: &quot;Manager approval for sensitive data&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;when&quot;: &quot;$appeal.resource.details.is_sensitive == true&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;strategy&quot;: &quot;manual&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;approvers&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;$appeal.creator.manager_email&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;name&quot;: &quot;resource_owner_approval&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;description&quot;: &quot;Approval from resource admin/owner&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;strategy&quot;: &quot;manual&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;approvers&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;$appeal.resource.details.owner&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="listing-policies">Listing Policies<a class="hash-link" href="#listing-policies" title="Direct link to heading">​</a></h3><p>To get the list of all the policies created by the user, use the <strong> <code>GET</code> </strong> Method on <strong><code>{{HOST}}/api/v1beta1/policies</code></strong></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-2">Responses<a class="hash-link" href="#responses-2" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/policy#policy-1">[Policy]</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request GET </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/policies&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="viewing-policies">Viewing Policies<a class="hash-link" href="#viewing-policies" title="Direct link to heading">​</a></h3><p>Viewing a policy can be done by the <strong> <code>GET</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/policies/:id/versions/:version</code></strong></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-2">Parameters<a class="hash-link" href="#parameters-2" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td>path</td><td>Policy unique identifier</td><td>Yes</td><td>string</td></tr><tr><td>version</td><td>path</td><td>Policy version</td><td>Yes</td><td>uint32</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-3">Responses<a class="hash-link" href="#responses-3" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/policy#policy-1">Policy</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request GET </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/policies/{{policy_id}}/versions/{{policy_version}}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="managing-providers">Managing Providers<a class="hash-link" href="#managing-providers" title="Direct link to heading">​</a></h2><p>Provider manages roles, resources, provider credentials and also points each resource type to a considered policy.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="registering-providers">Registering Providers<a class="hash-link" href="#registering-providers" title="Direct link to heading">​</a></h3><p>Once a provider config is registered, Guardian will immediately fetch the resources and store it in the database.</p><p>Providers can be created by calling to <strong><code>POST</code></strong> Method <strong><code>{{HOST}}/api/v1beta1/providers</code></strong></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-3">Parameters<a class="hash-link" href="#parameters-3" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>body</td><td>body</td><td>Provider config data</td><td>Yes</td><td><a href="/guardian/docs/reference/provider#providerconfig">ProviderConfig</a></td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-4">Responses<a class="hash-link" href="#responses-4" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="#providerresponse">ProviderResponse</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request POST </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/providers&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-raw </span><span class="token string" style="color:#e3116c">&#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  &quot;type&quot;: &quot;bigquery&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  &quot;urn&quot;: &quot;gcp-project-id-bigquery&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  &quot;allowed_account_types&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;user&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;serviceAccount&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  ],</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  &quot;credentials&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;service_account_key&quot;: &quot;{{base64 encoded service account key json}}&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;resource_name&quot;: &quot;projects/gcp-project-id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  &quot;appeal&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;allow_permanent_access&quot;: false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;allow_active_access_extension_in&quot;: &quot;168h&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  },</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  &quot;resources&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;type&quot;: &quot;dataset&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;policy&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;id&quot;: &quot;my_policy&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;version&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;roles&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          &quot;id&quot;: &quot;viewer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          &quot;name&quot;: &quot;Viewer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          &quot;permissions&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;READER&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          &quot;id&quot;: &quot;editor&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          &quot;name&quot;: &quot;Editor&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          &quot;permissions&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;WRITER&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    },</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;type&quot;: &quot;table&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;policy&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;id&quot;: &quot;my_policy&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;version&quot;: 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      },</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;roles&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          &quot;id&quot;: &quot;viewer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          &quot;name&quot;: &quot;Viewer&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          &quot;permissions&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;roles/bigquery.dataViewer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        },</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          &quot;id&quot;: &quot;editor&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          &quot;name&quot;: &quot;Editor&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          &quot;permissions&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">            &quot;roles/bigquery.dataEditor&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">          ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Check <a href="/guardian/docs/reference/provider">provider reference</a> for more details on Provider schema.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="updating-providers">Updating Providers<a class="hash-link" href="#updating-providers" title="Direct link to heading">​</a></h3><p>Providers can be updated by calling to <strong><code>PUT</code></strong> Method <strong><code>{HOST}}/api/v1beta1/providers/:id</code></strong></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-4">Parameters<a class="hash-link" href="#parameters-4" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td>path</td><td>Unique identifier of the provider to be updated</td><td>Yes</td><td>String</td></tr><tr><td>body</td><td>body</td><td>Provider config update payload</td><td>Yes</td><td><a href="/guardian/docs/reference/provider#providerconfig">ProviderConfig</a></td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-5">Responses<a class="hash-link" href="#responses-5" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="#providerresponse">ProviderResponse</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request PUT </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/providers/{{provider_id}}&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-raw </span><span class="token string" style="color:#e3116c">&#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  &quot;allowed_account_types&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;user&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="listing-providers">Listing Providers<a class="hash-link" href="#listing-providers" title="Direct link to heading">​</a></h3><p>To get the list of all the providers avaliable, call the <strong><code>GET</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/providers</code></strong></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-6">Responses<a class="hash-link" href="#responses-6" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="#providerresponse">[ProviderResponse]</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request GET </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/providers&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="viewing-providers">Viewing Providers<a class="hash-link" href="#viewing-providers" title="Direct link to heading">​</a></h3><p>To see the details of a particular provider by id, call the <strong><code>GET</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/providers/:id</code></strong> with the following parameters:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-5">Parameters<a class="hash-link" href="#parameters-5" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td>path</td><td></td><td>Yes</td><td>String</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-7">Responses<a class="hash-link" href="#responses-7" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="#providerresponse">ProviderResponse</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request GET </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/providers/{{provider_id}}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="delete-provider">Delete Provider<a class="hash-link" href="#delete-provider" title="Direct link to heading">​</a></h3><p>To delete a particular provider from the database use the <strong><code>DELETE</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/providers/:id</code></strong> with the parameters as shown here:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-6">Parameters<a class="hash-link" href="#parameters-6" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td>path</td><td></td><td>Yes</td><td>String</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="response">Response<a class="hash-link" href="#response" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td>NIL</td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="listing-roles-for-a-resource-type">Listing Roles for a Resource Type<a class="hash-link" href="#listing-roles-for-a-resource-type" title="Direct link to heading">​</a></h3><p>Listing roles can be done by calling to <strong><code>GET</code></strong> Method <strong><code>{{HOST}}/api/v1beta1/providers/:id/resources/:resource_type/roles</code></strong></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-7">Parameters<a class="hash-link" href="#parameters-7" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td>path</td><td></td><td>Yes</td><td>string</td></tr><tr><td>resource_type</td><td>path</td><td></td><td>Yes</td><td>string</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-8">Responses<a class="hash-link" href="#responses-8" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/provider#role">[Role]</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request GET </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/providers/{{provider_id}}/resources/{{resource_type}}/roles&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="managing-resources">Managing Resources<a class="hash-link" href="#managing-resources" title="Direct link to heading">​</a></h2><p>Resource in Guardian represents the actual resource in the provider e.g. for BigQuery provider, a resource represents a dataset or a table. One of Guardian&#x27;s responsibility is to manage the access to resources, and in order to do that Guardian needs to be able to manage the resources as well.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="listing-resources">Listing Resources<a class="hash-link" href="#listing-resources" title="Direct link to heading">​</a></h3><p>To get the list of all the resources availiable, call the <strong><code>GET</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/resources</code></strong></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-8">Parameters<a class="hash-link" href="#parameters-8" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>provider_type</td><td>query</td><td></td><td>No</td><td>string</td></tr><tr><td>provider_urn</td><td>query</td><td></td><td>No</td><td>string</td></tr><tr><td>type</td><td>query</td><td></td><td>No</td><td>string</td></tr><tr><td>urn</td><td>query</td><td></td><td>No</td><td>string</td></tr><tr><td>name</td><td>query</td><td></td><td>No</td><td>string</td></tr><tr><td>details</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>is_deleted</td><td>query</td><td></td><td>No</td><td>bool</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-9">Responses<a class="hash-link" href="#responses-9" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/resource#resource-1">[Resource]</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request GET </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/resources&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="viewing-resources">Viewing Resources<a class="hash-link" href="#viewing-resources" title="Direct link to heading">​</a></h3><p>To see the details of a particular resource by id, call the <strong><code>GET</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/resources/:id</code></strong> using the following parameters:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-9">Parameters<a class="hash-link" href="#parameters-9" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td>path</td><td></td><td>Yes</td><td>String</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-10">Responses<a class="hash-link" href="#responses-10" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/resource#resource-1">Resource</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request GET </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/resources/{{resource_id}}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="update-resources">Update Resources<a class="hash-link" href="#update-resources" title="Direct link to heading">​</a></h3><p>Guardian allows users to add metadata to the resources. This can be useful when configuring the approval steps in the policy that needs information from metadata e.g. “owners” as the approvers.</p><p>Update a resource can be done by calling to <strong><code>PUT</code></strong> Method <strong><code>{{HOST}}/api/v1beta1/resources/:id</code></strong></p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-10">Parameters<a class="hash-link" href="#parameters-10" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td>path</td><td></td><td>Yes</td><td>String</td></tr><tr><td>body</td><td>body</td><td></td><td>Yes</td><td><a href="/guardian/docs/reference/resource#resource-1">Resource</a></td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-11">Responses<a class="hash-link" href="#responses-11" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/resource#resource-1">Resource</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request PUT </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/resources/{{resource_id}}&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-raw </span><span class="token string" style="color:#e3116c">&#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;details&quot;: {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;key1&quot;: &quot;value1&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">        &quot;key2&quot;: &quot;value2&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="delete-resource">Delete Resource<a class="hash-link" href="#delete-resource" title="Direct link to heading">​</a></h3><p>To delete a particular provider from the database use the <strong><code>DELETE</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/resources/:id</code></strong> with the parameters as shown here:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-11">Parameters<a class="hash-link" href="#parameters-11" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td>path</td><td></td><td>Yes</td><td>String</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="response-1">Response<a class="hash-link" href="#response-1" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td>NIL</td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="managing-appeals">Managing Appeals<a class="hash-link" href="#managing-appeals" title="Direct link to heading">​</a></h2><p>An appeal is essentially a request created by users to give them access to resources. In order to grant the access, an appeal has to be approved by approvers which is assigned based on the applied policy. Appeal contains information about the requested account, the creator, the selected resources, the specific role for accessing the resource, and options to determine the behaviour of the access e.g. permanent or temporary access.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="create-appeal">Create Appeal<a class="hash-link" href="#create-appeal" title="Direct link to heading">​</a></h3><p>Guardian creates access for users to resources with configurable approval flow. Appeal created by user with specifying which resource they want to access and also the role.</p><p>Appeals can be created by calling the <strong><code>POST</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/appeals</code></strong> using the following parameters:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-12">Parameters<a class="hash-link" href="#parameters-12" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>body</td><td>body</td><td>Contains account id and type of the user creating appeal.<br> It also contains a list of resources for which request is created</td><td>Yes</td><td><a href="#appeal-request-config">Appeal Request</a></td></tr><tr><td>X-Auth-Email</td><td>header</td><td>Contains the user email creating the appeal</td><td>Yes</td><td>string</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-12">Responses<a class="hash-link" href="#responses-12" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/appeal#appeal-1">Appeal</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request POST </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/appeals&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;X-Auth-Email: user@example.com&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-raw </span><span class="token string" style="color:#e3116c">&#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  &quot;account_id&quot;: &quot;user@example.com&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  &quot;resources&quot;: [</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    {</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;id&quot;: &quot;a32b702a-029d-4d76-90c4-c3b8cc52941b&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">      &quot;role&quot;: &quot;viewer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">  ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="list-appeals">List Appeals<a class="hash-link" href="#list-appeals" title="Direct link to heading">​</a></h3><p>To get the list of all appeals with addtional queries on the result, use the <strong> <code>GET</code> </strong> Method on <strong><code>{{HOST}}/api/v1beta1/appeals</code></strong>
The request parameters associated with this is API are as follows:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-13">Parameters<a class="hash-link" href="#parameters-13" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>account_id</td><td>query</td><td>this will be depcreate use <code>account_ids</code></td><td>No</td><td>string</td></tr><tr><td>account_ids</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>statuses</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>role</td><td>query</td><td></td><td>No</td><td>string</td></tr><tr><td>provider_types</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>provider_urns</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>resource_types</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>resource_urns</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>order_by</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>created_by</td><td>query</td><td></td><td>No</td><td>string</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-13">Responses<a class="hash-link" href="#responses-13" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/appeal#appeal-1">[Appeal]</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="list-user-appeal">List User Appeal<a class="hash-link" href="#list-user-appeal" title="Direct link to heading">​</a></h3><p>To get the list of all the appeals by the current user, use the <strong> <code>GET</code> </strong> Method on <strong><code>{{HOST}}/api/v1beta1/me/appeals</code></strong>
The request parameters associated with this is API are as follows:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-14">Parameters<a class="hash-link" href="#parameters-14" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>statuses</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>role</td><td>query</td><td></td><td>No</td><td>string</td></tr><tr><td>provider_types</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>provider_urns</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>resource_types</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>resource_urns</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>order_by</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>X-Auth-Email</td><td>header</td><td>Contains the user email who is requesting for the list of all its appeals</td><td>Yes</td><td>string</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-14">Responses<a class="hash-link" href="#responses-14" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/appeal#appeal-1">[Appeal]</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="get-appeal">Get Appeal<a class="hash-link" href="#get-appeal" title="Direct link to heading">​</a></h3><p>To get a particular appeal by its <strong><code>id</code></strong> use the <strong> <code>GET</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/appeals/{id}</code></strong>
using the parameters given below:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-15">Parameters<a class="hash-link" href="#parameters-15" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td>path</td><td>Unique Identifier for the Appeal</td><td>Yes</td><td>string</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-15">Responses<a class="hash-link" href="#responses-15" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/appeal#appeal-1">Appeal</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="revoke-access">Revoke Access<a class="hash-link" href="#revoke-access" title="Direct link to heading">​</a></h3><p>Access to a resource by a user can be revoked by calling the <strong><code>PUT</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/appeals/{id}/revoke</code></strong> using the following parameters:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-16">Parameters<a class="hash-link" href="#parameters-16" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td>path</td><td>Unique Identifier for the Appeal</td><td>Yes</td><td>string</td></tr><tr><td>reason</td><td>body</td><td>Contains the reason of revoking the access</td><td>No</td><td>string</td></tr><tr><td>X-Auth-Email</td><td>header</td><td>Contains the user/service account email of the person revoking the access</td><td>Yes</td><td>string</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-16">Responses<a class="hash-link" href="#responses-16" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/appeal#appeal-1">Appeal</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="canceling-appeals">Canceling Appeals<a class="hash-link" href="#canceling-appeals" title="Direct link to heading">​</a></h3><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="appeal-creator-can-cancel-their-appeal-while-its-status-is-still-on-pending">Appeal creator can cancel their appeal while it&#x27;s status is still on <code>pending</code>.<a class="hash-link" href="#appeal-creator-can-cancel-their-appeal-while-its-status-is-still-on-pending" title="Direct link to heading">​</a></h4><p>Appeals can be canceled by calling the <strong><code>PUT</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/appeals/:id/cancel</code></strong> endpoint using the following parameters:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-17">Parameters<a class="hash-link" href="#parameters-17" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td>path</td><td>Unique Identifier for the Appeal</td><td>Yes</td><td>String</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-17">Responses<a class="hash-link" href="#responses-17" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/appeal#appeal-1">Appeal</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request PUT </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/appeals/{{appeal_id}}/cancel&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="bulk-revoke-access">Bulk Revoke Access<a class="hash-link" href="#bulk-revoke-access" title="Direct link to heading">​</a></h3><p>Bulk revoke of active resource-accesses based on parameters by calling the <strong><code>POST</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/appeals/revoke</code></strong> using the following parameters:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-18">Parameters<a class="hash-link" href="#parameters-18" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>account_ids</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>provider_types</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>provider_urns</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>resource_types</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>resource_urns</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>reason</td><td>query</td><td></td><td>No</td><td>string</td></tr><tr><td>X-Auth-Email</td><td>header</td><td>Contains the user email who is requesting to bulk revoke of access</td><td>Yes</td><td>string</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-18">Responses<a class="hash-link" href="#responses-18" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/appeal#appeal-1">[]Appeal</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong> Here is an example below: </strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request PUT </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/appeals/{{appeal_id}}/cancel&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request POST </span><span class="token string" style="color:#e3116c">&#x27;localhost:3000/api/v1beta1/appeals/revoke&#x27;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;X-Auth-Email: abc@xyz.com&#x27;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-raw </span><span class="token string" style="color:#e3116c">&#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;account_id&quot;:[&quot;user1.@domain1.com&quot;, &quot;user2.@domain1.com&quot;],</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;reason&quot;: &quot;Bulk revoke&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="list-approvals">List Approvals<a class="hash-link" href="#list-approvals" title="Direct link to heading">​</a></h3><p>To get the list of all approvals, use the <strong> <code>GET</code> </strong> Method on <strong><code>{{HOST}}/api/v1beta1/approvals</code></strong> using the following parameters as given below:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-19">Parameters<a class="hash-link" href="#parameters-19" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>account_id</td><td>query</td><td></td><td>No</td><td>string</td></tr><tr><td>statuses</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>order_by</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>created_by</td><td>query</td><td></td><td>No</td><td>string</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="response-2">Response<a class="hash-link" href="#response-2" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/appeal#approval">[Approval]</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="list-user-approvals">List User Approvals<a class="hash-link" href="#list-user-approvals" title="Direct link to heading">​</a></h3><p>To get the list of all approvals for the current user, use the <strong> <code>GET</code> </strong> Method on <strong><code>{{HOST}}/api/v1beta1/me/approvals</code></strong> using the following parameters as given below:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-20">Parameters<a class="hash-link" href="#parameters-20" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>account_id</td><td>query</td><td></td><td>No</td><td>string</td></tr><tr><td>statuses</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>order_by</td><td>query</td><td></td><td>No</td><td>[string]</td></tr><tr><td>X-Auth-Email</td><td>header</td><td>Contains the user/service account email used for authorization</td><td>Yes</td><td>string</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="response-3">Response<a class="hash-link" href="#response-3" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/appeal#approval">[Approval]</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="update-approval-approving-and-rejecting-appeals">Update Approval (Approving and Rejecting Appeals)<a class="hash-link" href="#update-approval-approving-and-rejecting-appeals" title="Direct link to heading">​</a></h3><p>Appeals can be approved/rejected by calling the <strong><code>POST</code></strong> Method on <strong><code>{{HOST}}/api/v1beta1/appeals/:id/approvals/:approval_name</code></strong> endpoint with the following parameters:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-21">Parameters<a class="hash-link" href="#parameters-21" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td>path</td><td>Unique Identifier for the Appeal</td><td>Yes</td><td>String</td></tr><tr><td>approval_name</td><td>path</td><td>Name of the approval step. <br> <br>For instance <strong><code>resource_owner_approval</code></strong> or <strong><code>admin_approval</code></strong><br> in this <a href="/guardian/docs/guides/create-policy#example-policy">Example</a></td><td>Yes</td><td>String</td></tr><tr><td>action</td><td>body</td><td>Action which the approver wants to take(<code>Approve</code> or <code>Reject</code>)</td><td>Yes</td><td><a href="#action">Object(Action)</a></td></tr><tr><td>X-Auth-Email</td><td>header</td><td>Contains the approver&#x27;s email id</td><td>Yes</td><td>string</td></tr></tbody></table><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-19">Responses<a class="hash-link" href="#responses-19" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="/guardian/docs/reference/appeal#appeal-1">Appeal</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><p><strong>Here is an example below:</strong></p><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="approve-an-appeal">Approve an Appeal<a class="hash-link" href="#approve-an-appeal" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request POST </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/appeals/{{appeal_id}}/approvals/{{approval_step_name}}&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;X-Auth-Email: user@example.com&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-raw </span><span class="token string" style="color:#e3116c">&#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;action&quot;: &quot;approve&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="reject-an-appeal">Reject an Appeal<a class="hash-link" href="#reject-an-appeal" title="Direct link to heading">​</a></h4><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --request POST </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/appeals/{{appeal_id}}/approvals/{{approval_step_name}}&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;X-Auth-Email: user@example.com&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-raw </span><span class="token string" style="color:#e3116c">&#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;action&quot;: &quot;reject&quot;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;reason&quot;: &quot;{{rejection_message}}&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="add-approver">Add Approver<a class="hash-link" href="#add-approver" title="Direct link to heading">​</a></h3><p>Approver can be added by calling <code>POST /api/v1beta1/appeals/:appeal_id/approvals/:approval_id/approvers</code> endpoint with the following parameters:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-22">Parameters<a class="hash-link" href="#parameters-22" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>appeal_id</td><td>path</td><td>Unique identifier of the appeal</td><td>Yes</td><td>string(UUID)</td></tr><tr><td>approval_id</td><td>path</td><td>Unique identifier or name of the approval</td><td>Yes</td><td>string(UUID) or string</td></tr><tr><td>email</td><td>body</td><td>New approver email</td><td>Yes</td><td><a href="#addapproverrequest">Object(AddApproverRequest)</a></td></tr></tbody></table><p><strong>Example:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --location --request POST </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/appeals/{{appeal_id}}/approvals/{{approval_id}}/approvers&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--header </span><span class="token string" style="color:#e3116c">&#x27;Content-Type: application/json&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">\</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--data-raw </span><span class="token string" style="color:#e3116c">&#x27;{</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">    &quot;email&quot;: &quot;new.approver@example.com&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token string" style="color:#e3116c">}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-20">Responses<a class="hash-link" href="#responses-20" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="#addapproverresponse">AddApproverResponse</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="delete-approver">Delete Approver<a class="hash-link" href="#delete-approver" title="Direct link to heading">​</a></h3><p>Existing approver can be removed by calling <code>DELETE /api/v1beta1/appeals/:appeal_id/approvals/:approval_id/approvers/:email</code> endpoint with the following parameters:</p><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="parameters-23">Parameters<a class="hash-link" href="#parameters-23" title="Direct link to heading">​</a></h5><table><thead><tr><th>Name</th><th>Located in</th><th>Description</th><th>Required</th><th>Type</th></tr></thead><tbody><tr><td>appeal_id</td><td>path</td><td>Unique identifier of the appeal</td><td>Yes</td><td>string(UUID)</td></tr><tr><td>approval_id</td><td>path</td><td>Unique identifier or name of the approval</td><td>Yes</td><td>string(UUID) or string</td></tr><tr><td>email</td><td>path</td><td>To be deleted approver email</td><td>Yes</td><td>string</td></tr></tbody></table><p><strong>Example:</strong></p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> --location --request DELETE </span><span class="token string" style="color:#e3116c">&#x27;{{HOST}}/api/v1beta1/appeals/{{appeal_id}}/approvals/{{approval_id}}/approvers/{{email}}&#x27;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h5 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="responses-21">Responses<a class="hash-link" href="#responses-21" title="Direct link to heading">​</a></h5><table><thead><tr><th>Code</th><th>Description</th><th>Type</th></tr></thead><tbody><tr><td>200</td><td>A successful response.</td><td><a href="#deleteapproverresponse">DeleteApproverResponse</a></td></tr><tr><td>default</td><td>An unexpected error response.</td><td><a href="#rpcstatus">rpcStatus</a></td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="models">Models<a class="hash-link" href="#models" title="Direct link to heading">​</a></h2><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="rpcstatus">rpcStatus<a class="hash-link" href="#rpcstatus" title="Direct link to heading">​</a></h4><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>code</td><td>integer</td><td></td><td>No</td></tr><tr><td>message</td><td>string</td><td></td><td>No</td></tr><tr><td>details</td><td>[ <a href="#protobufany">protobufAny</a> ]</td><td></td><td>No</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="protobufany">protobufAny<a class="hash-link" href="#protobufany" title="Direct link to heading">​</a></h4><table><thead><tr><th>Name</th><th>Type</th><th>Description</th><th>Required</th></tr></thead><tbody><tr><td>typeUrl</td><td>string</td><td></td><td>No</td></tr><tr><td>value</td><td>byte</td><td></td><td>No</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="providerresponse">providerResponse<a class="hash-link" href="#providerresponse" title="Direct link to heading">​</a></h4><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>string</td><td>Unique identifier for the Provider</td></tr><tr><td>Type</td><td>string</td><td>Name of the Provider type.<br><br> Possible values: <strong><code>bigquery</code>, <code>metabase</code>, <code>tableau</code>, <code>gcloud_iam</code>, <code>grafana</code></strong></td></tr><tr><td>URN</td><td>string</td><td>Provider instance identifier</td></tr><tr><td>Config</td><td><a href="/guardian/docs/reference/provider#providerconfig">object(Provider Config)</a></td><td>Contains the credentials, provider type and URN, allowed account types and other info about the Provider</td></tr><tr><td>CreatedAt</td><td>dateTime</td><td>Timestamp when the resource is created.</td></tr><tr><td>UpdatedAt</td><td>dateTime</td><td>Timestamp when the resource was last updated</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="appeal-request-config">Appeal Request Config<a class="hash-link" href="#appeal-request-config" title="Direct link to heading">​</a></h4><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>string</td><td>User/Service Account Email creating the appeal</td></tr><tr><td>account_type</td><td>[string]</td><td>Contains the allowed account type for the provider. <br>For example, the possible values for BigQuery Provider and Google Cloud IAM is <strong><code>user</code></strong> and <strong><code>serviceAccount</code></strong></td></tr><tr><td>resources</td><td><a href="#resource">[Object(Resource)]</a></td><td>List of resource objects</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="resource">Resource<a class="hash-link" href="#resource" title="Direct link to heading">​</a></h4><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td>string</td><td></td></tr><tr><td>role</td><td>string</td><td>Role to be assigned. Can be <code>Viewer</code>, <code>Editor</code>, <code>Admin</code> depending on the Provider</td></tr><tr><td>options</td><td><a href="#appealoptions">Object (Appeal Options)</a></td><td></td></tr><tr><td>details</td><td>object</td><td>Additional information for the appeal. Details can be added from the appeal creation.</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="appealoptions">AppealOptions<a class="hash-link" href="#appealoptions" title="Direct link to heading">​</a></h4><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>expiration_date</td><td>dateTime</td><td>Timestamp when the appeal expires</td></tr><tr><td>duration</td><td>string</td><td>Duration of the access to the resource</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="action">Action<a class="hash-link" href="#action" title="Direct link to heading">​</a></h4><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>action</td><td>string</td><td>Can be <strong><code>Approve</code></strong> or <strong><code>Reject</code></strong> the Appeal</td></tr><tr><td>reason</td><td>string</td><td>In case an appeal is rejected, the reason is to be updated in this field</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="addapproverrequest">AddApproverRequest<a class="hash-link" href="#addapproverrequest" title="Direct link to heading">​</a></h4><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>email</td><td>string</td><td>Email address of the new approver</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="addapproverresponse">AddApproverResponse<a class="hash-link" href="#addapproverresponse" title="Direct link to heading">​</a></h4><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>appeal</td><td><a href="/guardian/docs/reference/appeal#appeal-1">Object(Appeal)</a></td><td>Appeal object</td></tr></tbody></table><h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="deleteapproverresponse">DeleteApproverResponse<a class="hash-link" href="#deleteapproverresponse" title="Direct link to heading">​</a></h4><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>appeal</td><td><a href="/guardian/docs/reference/appeal#appeal-1">Object(Appeal)</a></td><td>Appeal object</td></tr></tbody></table></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/odpf/guardian/edit/master/docs/docs/reference/api.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_eYIM" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_vbeJ"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/guardian/docs/providers/grafana"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Grafana</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/guardian/docs/reference/cli"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CLI</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#managing-policies" class="table-of-contents__link toc-highlight">Managing Policies</a><ul><li><a href="#create-policy" class="table-of-contents__link toc-highlight">Create Policy</a></li><li><a href="#updating-policy" class="table-of-contents__link toc-highlight">Updating Policy</a></li><li><a href="#listing-policies" class="table-of-contents__link toc-highlight">Listing Policies</a></li><li><a href="#viewing-policies" class="table-of-contents__link toc-highlight">Viewing Policies</a></li></ul></li><li><a href="#managing-providers" class="table-of-contents__link toc-highlight">Managing Providers</a><ul><li><a href="#registering-providers" class="table-of-contents__link toc-highlight">Registering Providers</a></li><li><a href="#updating-providers" class="table-of-contents__link toc-highlight">Updating Providers</a></li><li><a href="#listing-providers" class="table-of-contents__link toc-highlight">Listing Providers</a></li><li><a href="#viewing-providers" class="table-of-contents__link toc-highlight">Viewing Providers</a></li><li><a href="#delete-provider" class="table-of-contents__link toc-highlight">Delete Provider</a></li><li><a href="#listing-roles-for-a-resource-type" class="table-of-contents__link toc-highlight">Listing Roles for a Resource Type</a></li></ul></li><li><a href="#managing-resources" class="table-of-contents__link toc-highlight">Managing Resources</a><ul><li><a href="#listing-resources" class="table-of-contents__link toc-highlight">Listing Resources</a></li><li><a href="#viewing-resources" class="table-of-contents__link toc-highlight">Viewing Resources</a></li><li><a href="#update-resources" class="table-of-contents__link toc-highlight">Update Resources</a></li><li><a href="#delete-resource" class="table-of-contents__link toc-highlight">Delete Resource</a></li></ul></li><li><a href="#managing-appeals" class="table-of-contents__link toc-highlight">Managing Appeals</a><ul><li><a href="#create-appeal" class="table-of-contents__link toc-highlight">Create Appeal</a></li><li><a href="#list-appeals" class="table-of-contents__link toc-highlight">List Appeals</a></li><li><a href="#list-user-appeal" class="table-of-contents__link toc-highlight">List User Appeal</a></li><li><a href="#get-appeal" class="table-of-contents__link toc-highlight">Get Appeal</a></li><li><a href="#revoke-access" class="table-of-contents__link toc-highlight">Revoke Access</a></li><li><a href="#canceling-appeals" class="table-of-contents__link toc-highlight">Canceling Appeals</a></li><li><a href="#bulk-revoke-access" class="table-of-contents__link toc-highlight">Bulk Revoke Access</a></li><li><a href="#list-approvals" class="table-of-contents__link toc-highlight">List Approvals</a></li><li><a href="#list-user-approvals" class="table-of-contents__link toc-highlight">List User Approvals</a></li><li><a href="#update-approval-approving-and-rejecting-appeals" class="table-of-contents__link toc-highlight">Update Approval (Approving and Rejecting Appeals)</a></li><li><a href="#add-approver" class="table-of-contents__link toc-highlight">Add Approver</a></li><li><a href="#delete-approver" class="table-of-contents__link toc-highlight">Delete Approver</a></li></ul></li><li><a href="#models" class="table-of-contents__link toc-highlight">Models</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"></div></footer></div>
<script src="/guardian/assets/js/runtime~main.1f216be9.js"></script>
<script src="/guardian/assets/js/main.21f990b9.js"></script>
</body>
</html>