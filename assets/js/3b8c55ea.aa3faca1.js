"use strict";(self.webpackChunkguardian=self.webpackChunkguardian||[]).push([[217],{3905:function(e,t,a){a.d(t,{Zo:function(){return s},kt:function(){return m}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var p=n.createContext({}),u=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},s=function(e){var t=u(e.components);return n.createElement(p.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,p=e.parentName,s=o(e,["components","mdxType","originalType","parentName"]),c=u(a),m=r,h=c["".concat(p,".").concat(m)]||c[m]||d[m]||l;return a?n.createElement(h,i(i({ref:t},s),{},{components:a})):n.createElement(h,i({ref:t},s))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,i=new Array(l);i[0]=c;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:r,i[1]=o;for(var u=2;u<l;u++)i[u]=a[u];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}c.displayName="MDXCreateElement"},9803:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return i},default:function(){return d},frontMatter:function(){return l},metadata:function(){return o},toc:function(){return u}});var n=a(3117),r=(a(7294),a(3905));const l={},i="Installation",o={unversionedId:"installation",id:"installation",title:"Installation",description:"There are several approaches to install Guardian CLI",source:"@site/docs/installation.md",sourceDirName:".",slug:"/installation",permalink:"/guardian/docs/installation",draft:!1,editUrl:"https://github.com/odpf/guardian/edit/master/docs/docs/installation.md",tags:[],version:"current",frontMatter:{},sidebar:"docsSidebar",previous:{title:"Introduction",permalink:"/guardian/docs/introduction"},next:{title:"Roadmap",permalink:"/guardian/docs/roadmap"}},p={},u=[{value:"Binary (Cross-platform)",id:"binary-cross-platform",level:4},{value:"macOS",id:"macos",level:4},{value:"Linux",id:"linux",level:4},{value:"Windows",id:"windows",level:4},{value:"Building from source",id:"building-from-source",level:3},{value:"Prerequisites",id:"prerequisites",level:4},{value:"Build",id:"build",level:4},{value:"Verifying the installation\u200b",id:"verifying-the-installation",level:3},{value:"Use the Docker image",id:"use-the-docker-image",level:3},{value:"Use the Helm chart",id:"use-the-helm-chart",level:3}],s={toc:u};function d(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},s,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"installation"},"Installation"),(0,r.kt)("p",null,"There are several approaches to install Guardian CLI"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#binary-cross-platform"},"Using a pre-compiled binary")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#macOS"},"Installing with package manager")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#building-from-source"},"Installing from source")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#use-the-docker-image"},"Using the Docker image")),(0,r.kt)("li",{parentName:"ol"},(0,r.kt)("a",{parentName:"li",href:"#use-the-helm-chart"},"Using the Helm Chart"))),(0,r.kt)("h4",{id:"binary-cross-platform"},"Binary (Cross-platform)"),(0,r.kt)("p",null,"Download the appropriate version for your platform from ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/odpf/guardian/releases"},"releases")," page. Once downloaded, the binary can be run from anywhere.\nYou don\u2019t need to install it into a global location. This works well for shared hosts and other systems where you don\u2019t have a privileged account.\nIdeally, you should install it somewhere in your PATH for easy use. ",(0,r.kt)("inlineCode",{parentName:"p"},"/usr/local/bin")," is the most probable location."),(0,r.kt)("h4",{id:"macos"},"macOS"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"guardian")," is available via a Homebrew Tap, and as downloadable binary from the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/odpf/guardian/releases/latest"},"releases")," page:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"brew install odpf/tap/guardian\n")),(0,r.kt)("p",null,"To upgrade to the latest version:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"brew upgrade guardian\n")),(0,r.kt)("p",null,"Check for installed guardian version"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"guardian version\n")),(0,r.kt)("h4",{id:"linux"},"Linux"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"guardian")," is available as downloadable binaries from the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/odpf/guardian/releases/latest"},"releases")," page. Download the ",(0,r.kt)("inlineCode",{parentName:"p"},".deb")," or ",(0,r.kt)("inlineCode",{parentName:"p"},".rpm")," from the releases page and install with ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo dpkg -i")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"sudo rpm -i")," respectively."),(0,r.kt)("h4",{id:"windows"},"Windows"),(0,r.kt)("p",null,(0,r.kt)("inlineCode",{parentName:"p"},"guardian")," is available via ",(0,r.kt)("a",{parentName:"p",href:"https://scoop.sh/"},"scoop"),", and as a downloadable binary from the ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/odpf/guardian/releases/latest"},"releases")," page:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"scoop bucket add guardian https://github.com/odpf/scoop-bucket.git\n")),(0,r.kt)("p",null,"To upgrade to the latest version:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"scoop update guardian\n")),(0,r.kt)("h3",{id:"building-from-source"},"Building from source"),(0,r.kt)("h4",{id:"prerequisites"},"Prerequisites"),(0,r.kt)("p",null,"Guardian requires the following dependencies:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Golang (version 1.17 or above)"),(0,r.kt)("li",{parentName:"ul"},"Git")),(0,r.kt)("h4",{id:"build"},"Build"),(0,r.kt)("p",null,"Run either of the following commands to clone and compile Guardian from source"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"$ git clone git@github.com:odpf/guardian.git  (Using SSH Protocol) Or\n$ git clone https://github.com/odpf/guardian.git (Using HTTPS Protocol)\n")),(0,r.kt)("p",null,"Install all the golang dependencies"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"make setup\n")),(0,r.kt)("p",null,"Build guardian binary file"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"make build\n")),(0,r.kt)("p",null,"Init server config. Customise with your local configurations."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"make config\n")),(0,r.kt)("p",null,"Run database migrations"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"./guardian server migrate -c config.yaml\n")),(0,r.kt)("p",null,"Start guardian server"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"./guardian server start -c config.yaml\n")),(0,r.kt)("p",null,"Initialise client configurations"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"./guardian config init\n")),(0,r.kt)("h3",{id:"verifying-the-installation"},"Verifying the installation\u200b"),(0,r.kt)("p",null,"To verify if Guardian is properly installed, run ",(0,r.kt)("inlineCode",{parentName:"p"},"guardian --help")," on your system. You should see help output. If you are executing it from the command line, make sure it is on your PATH or you may get an error about Guardian not being found."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"$ guardian --help\n")),(0,r.kt)("h3",{id:"use-the-docker-image"},"Use the Docker image"),(0,r.kt)("p",null,"We provide ready to use Docker container images. To pull the latest image:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"docker pull odpf/guardian:latest\n")),(0,r.kt)("p",null,"To pull a specific version:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"docker pull odpf/guardian:v0.3.2\n")),(0,r.kt)("p",null,"If you like to have a shell alias that runs the latest version of pscale from docker whenever you type ",(0,r.kt)("inlineCode",{parentName:"p"},"pscale"),":"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},'mkdir -p $HOME/.config/odpf\nalias guardian="docker run -e HOME=/tmp -v $HOME/.config/odpf:/tmp/.config/odpf --user $(id -u):$(id -g) --rm -it -p 3306:3306/tcp odpf/guardian:latest"\n')),(0,r.kt)("h3",{id:"use-the-helm-chart"},"Use the Helm chart"),(0,r.kt)("p",null,"Guardian can be installed in Kubernetes using the Helm chart from ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/odpf/charts"},"https://github.com/odpf/charts"),"."),(0,r.kt)("p",null,"Ensure that the following requirements are met:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Kubernetes 1.14+"),(0,r.kt)("li",{parentName:"ul"},"Helm version 3.x is ",(0,r.kt)("a",{parentName:"li",href:"https://helm.sh/docs/intro/install/"},"installed"))),(0,r.kt)("p",null,"Add ODPF chart repository to Helm:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"helm repo add odpf https://odpf.github.io/charts/\n")),(0,r.kt)("p",null,"You can update the chart repository by running:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"helm repo update\n")),(0,r.kt)("p",null,"And install it with the helm command line:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"helm install my-release odpf/guardian\n")))}d.isMDXComponent=!0}}]);